
function viewControlLicense(resultJson, isComparisonUsers) {

    if (resultJson.IsError) {

        console.log("Lisans Kontrol Edilemedi : " + resultJson.ErrorMessaj);

        UyumNotifySpecial("Uyumsoft lisans bağlantısı kurulumadı.Lütfen Uyumsoft destek merkezine ulaşın.", "Lisans Sorunu", 3);
    }
    else {

        if (resultJson.IsRedirectLogin) {

            Confirm("Lisans Hatası", "Aktif ürün kurulumu bulunamadı.Lütfen <b>0850 460 33 65</b> numaralı destek hattından bize ulaşın.", null, null, CallbackCancel_ControlIsRedirectLogin, CallbackCancel_ControlIsRedirectLogin, resultJson);
        }

        else if (resultJson.IsRedirectAddUser) {

            Confirm("Lisans Uyarısı", "Aktif kullanıcı lisansı <b>bulunamadı</b>.Kullanıcı lisansı satın alarak ürünü kullanmaya devam etmek <b>istermisiniz?</b>", null, null, Callback_ControlIsRedirectAddUser, CallbackCancel_ControlIsRedirectAddUser, resultJson);
        }
        else {

            if (isComparisonUsers) {

                if (resultJson.IsWarningExpriy) {

                    Confirm("Lisans Uyarısı", "Kullanıcı lisansının bitmesine <b>" + resultJson.WarningExpriyDay + "</b> gün kaldı.Kullanıcı lisansı <b>bitmeden</b> yenisini satın almak <b>istermisiniz?</b>", null, null, Callback_ControlIsWarningExpriy, CallbackCancel_ControlIsWarningExpriy, resultJson);
                }
            }
            else {

                Confirm("Lisans Uyarısı", "Kullanıcı <b>limitleri</b> aşıldı.Bazı kullanıcılarınızı <b>pasife</b> alarak veya yeni <b>kullanıcı lisansı</b> satın alarak ürünü kullanmaya devam edebilirsiniz.", 'Ayarla', 'Çıkış', Callback_ComparisonUsers, CallbackCancel_ComparisonUsers);
            }
        }
    }
}

function CallbackCancel_ControlIsRedirectAddUser() {

    CloseOtherPage();

    window.location.href = "login.aspx?sessionstate=logout";
}

function CallbackCancel_ControlIsRedirectLogin() {

    setTimeout(function () {

        CloseOtherPage();

        window.location.href = "login.aspx?sessionstate=logout";

    }, 3000);

}


function Callback_ControlIsWarningExpriy() {

    OpenUyumLicense('IsWarningExpriy');
}

function CallbackCancel_ControlIsWarningExpriy() {


}


function Callback_ControlIsRedirectAddUser() {

    OpenUyumLicense('IsRedirectAddUser');
}

function Callback_ComparisonUsers() {

    OpenUyumLicense('ComparisonUsers');
}

function CallbackCancel_ComparisonUsers() {

    CloseOtherPage();

    window.location.href = "login.aspx?sessionstate=logout";
}

function OpenUyumLicense(param) {

    UyumDialog.Open("/XmlCard.aspx?CommandName=GetUyumLicenseCollection.Show&LicenseParam=" + param, OpenUyumLicense_Callback);

}

function OpenUyumLicense_Callback() {

    location.reload();
}